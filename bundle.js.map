{"version":3,"file":"bundle.js","sources":["index.js"],"sourcesContent":["var svg = d3.select(\"svg\"),\n    margin = 20,\n    diameter = +svg.attr(\"width\"),\n    g = svg\n        .append(\"g\")\n        .attr(\n            \"transform\",\n            \"translate(\" + diameter / 2 + \",\" + diameter / 2 + \")\"\n        );\n\nvar color = d3\n    .scaleLinear()\n    .domain([-1, 5])\n    .range([\"hsl(152,80%,80%)\", \"hsl(228,30%,40%)\"])\n    .interpolate(d3.interpolateHcl);\n\nvar pack = d3\n    .pack()\n    .size([diameter - margin, diameter - margin])\n    .padding(2);\n\nd3.json(\"task1-copy.json\", function (error, root) {\n    // d3.json(\"flare.json\", function (error, root) {\n    if (error) throw error;\n    console.log(\"root\", root);\n    let newJSON = {};\n    newJSON[\"children\"] = [];\n    let temp = [...root];\n    let data = temp[0][Object.keys(temp[0])[0]];\n\n    temp[\"children\"] = [];\n    data.map((obj, idx) => {\n        let newObj = {\n            name: \"SUBJECT\",\n            children: [\n                {\n                    name: \"SUBJECT 1 cluster\",\n                    children: [\n                        { name: \"AgglomerativeCluster\", size: 3938 },\n                        { name: \"CommunityStructure\", size: 3812 },\n                        { name: \"HierarchicalCluster\", size: 6714 },\n                        { name: \"MergeEdge\", size: 743 },\n                    ],\n                },\n            ],\n        };\n\n        newJSON[\"children\"].push(newObj);\n    });\n    console.log(\"newJSON - \", newJSON);\n\n    root = d3\n        .hierarchy(newJSON)\n        // .hierarchy(temp[\"children\"])\n        .sum(function (d) {\n            return d.size;\n        })\n        .sort(function (a, b) {\n            return b.value - a.value;\n        });\n\n    var focus = root,\n        nodes = pack(root).descendants(),\n        view;\n\n    var circle = g\n        .selectAll(\"circle\")\n        .data(nodes)\n        .enter()\n        .append(\"circle\")\n        .attr(\"class\", function (d) {\n            return d.parent\n                ? d.children\n                    ? \"node\"\n                    : \"node node--leaf\"\n                : \"node node--root\";\n        })\n        .style(\"fill\", function (d) {\n            return d.children ? color(d.depth) : null;\n        })\n        .on(\"click\", function (d) {\n            if (focus !== d) zoom(d), d3.event.stopPropagation();\n        });\n\n    var text = g\n        .selectAll(\"text\")\n        .data(nodes)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"label\")\n        .style(\"fill-opacity\", function (d) {\n            return d.parent === root ? 1 : 0;\n        })\n        .style(\"display\", function (d) {\n            return d.parent === root ? \"inline\" : \"none\";\n        })\n        .text(function (d) {\n            return d.data.name;\n        });\n\n    var node = g.selectAll(\"circle,text\");\n\n    svg.style(\"background\", color(-1)).on(\"click\", function () {\n        zoom(root);\n    });\n\n    zoomTo([root.x, root.y, root.r * 2 + margin]);\n\n    function zoom(d) {\n        var focus0 = focus;\n        focus = d;\n\n        var transition = d3\n            .transition()\n            .duration(d3.event.altKey ? 7500 : 750)\n            .tween(\"zoom\", function (d) {\n                var i = d3.interpolateZoom(view, [\n                    focus.x,\n                    focus.y,\n                    focus.r * 2 + margin,\n                ]);\n                return function (t) {\n                    zoomTo(i(t));\n                };\n            });\n\n        transition\n            .selectAll(\"text\")\n            .filter(function (d) {\n                return d.parent === focus || this.style.display === \"inline\";\n            })\n            .style(\"fill-opacity\", function (d) {\n                return d.parent === focus ? 1 : 0;\n            })\n            .on(\"start\", function (d) {\n                if (d.parent === focus) this.style.display = \"inline\";\n            })\n            .on(\"end\", function (d) {\n                if (d.parent !== focus) this.style.display = \"none\";\n            });\n    }\n\n    function zoomTo(v) {\n        var k = diameter / v[2];\n        view = v;\n        node.attr(\"transform\", function (d) {\n            return (\n                \"translate(\" + (d.x - v[0]) * k + \",\" + (d.y - v[1]) * k + \")\"\n            );\n        });\n        circle.attr(\"r\", function (d) {\n            return d.r * k;\n        });\n    }\n});\n"],"names":["let"],"mappings":";;;IAAA,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;IAC1B,IAAI,MAAM,GAAG,EAAE;IACf,IAAI,QAAQ,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IACjC,IAAI,CAAC,GAAG,GAAG;IACX,SAAS,MAAM,CAAC,GAAG,CAAC;IACpB,SAAS,IAAI;IACb,YAAY,WAAW;IACvB,YAAY,YAAY,GAAG,QAAQ,GAAG,CAAC,GAAG,GAAG,GAAG,QAAQ,GAAG,CAAC,GAAG,GAAG;IAClE,SAAS,CAAC;AACV;IACA,IAAI,KAAK,GAAG,EAAE;IACd,KAAK,WAAW,EAAE;IAClB,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACpB,KAAK,KAAK,CAAC,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;IACpD,KAAK,WAAW,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;AACpC;IACA,IAAI,IAAI,GAAG,EAAE;IACb,KAAK,IAAI,EAAE;IACX,KAAK,IAAI,CAAC,CAAC,QAAQ,GAAG,MAAM,EAAE,QAAQ,GAAG,MAAM,CAAC,CAAC;IACjD,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB;IACA,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,UAAU,KAAK,EAAE,IAAI,EAAE;IAClD;IACA,IAAI,IAAI,KAAK,IAAE,MAAM,KAAK,GAAC;IAC3B,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC9B,IAAIA,IAAI,OAAO,GAAG,EAAE,CAAC;IACrB,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;IAC7B,IAAIA,IAAI,IAAI,GAAG,WAAI,IAAI,EAAC,CAAC;IACzB,IAAIA,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD;IACA,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;IAC1B,IAAI,IAAI,CAAC,GAAG,WAAE,GAAG,EAAE,GAAG,EAAK;IAC3B,QAAQA,IAAI,MAAM,GAAG;IACrB,YAAY,IAAI,EAAE,SAAS;IAC3B,YAAY,QAAQ,EAAE;IACtB,gBAAgB;IAChB,oBAAoB,IAAI,EAAE,mBAAmB;IAC7C,oBAAoB,QAAQ,EAAE;IAC9B,wBAAwB,EAAE,IAAI,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,EAAE;IACpE,wBAAwB,EAAE,IAAI,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,EAAE;IAClE,wBAAwB,EAAE,IAAI,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,EAAE;IACnE,wBAAwB,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,EAAE,EACnC;IACrB,iBAAiB,EACJ;IACb,SAAS,CAAC;AACV;IACA,QAAQ,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;AACvC;IACA,IAAI,IAAI,GAAG,EAAE;IACb,SAAS,SAAS,CAAC,OAAO,CAAC;IAC3B;IACA,SAAS,GAAG,CAAC,UAAU,CAAC,EAAE;IAC1B,YAAY,OAAO,CAAC,CAAC,IAAI,CAAC;IAC1B,SAAS,CAAC;IACV,SAAS,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;IAC9B,YAAY,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;IACrC,SAAS,CAAC,CAAC;AACX;IACA,IAAI,IAAI,KAAK,GAAG,IAAI;IACpB,QAAQ,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE;IACxC,QAAQ,IAAI,CAAC;AACb;IACA,IAAI,IAAI,MAAM,GAAG,CAAC;IAClB,SAAS,SAAS,CAAC,QAAQ,CAAC;IAC5B,SAAS,IAAI,CAAC,KAAK,CAAC;IACpB,SAAS,KAAK,EAAE;IAChB,SAAS,MAAM,CAAC,QAAQ,CAAC;IACzB,SAAS,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;IACpC,YAAY,OAAO,CAAC,CAAC,MAAM;IAC3B,kBAAkB,CAAC,CAAC,QAAQ;IAC5B,sBAAsB,MAAM;IAC5B,sBAAsB,iBAAiB;IACvC,kBAAkB,iBAAiB,CAAC;IACpC,SAAS,CAAC;IACV,SAAS,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;IACpC,YAAY,OAAO,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;IACtD,SAAS,CAAC;IACV,SAAS,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;IAClC,YAAY,IAAI,KAAK,KAAK,CAAC,IAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,eAAe,EAAE,GAAC;IACjE,SAAS,CAAC,CAAC;AACX;IACA,IAAe,CAAC;IAChB,SAAS,SAAS,CAAC,MAAM,CAAC;IAC1B,SAAS,IAAI,CAAC,KAAK,CAAC;IACpB,SAAS,KAAK,EAAE;IAChB,SAAS,MAAM,CAAC,MAAM,CAAC;IACvB,SAAS,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;IAC/B,SAAS,KAAK,CAAC,cAAc,EAAE,UAAU,CAAC,EAAE;IAC5C,YAAY,OAAO,CAAC,CAAC,MAAM,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;IAC7C,SAAS,CAAC;IACV,SAAS,KAAK,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE;IACvC,YAAY,OAAO,CAAC,CAAC,MAAM,KAAK,IAAI,GAAG,QAAQ,GAAG,MAAM,CAAC;IACzD,SAAS,CAAC;IACV,SAAS,IAAI,CAAC,UAAU,CAAC,EAAE;IAC3B,YAAY,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IAC/B,SAAS,EAAE;AACX;IACA,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;AAC1C;IACA,IAAI,GAAG,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;IAC/D,QAAQ,IAAI,CAAC,IAAI,CAAC,CAAC;IACnB,KAAK,CAAC,CAAC;AACP;IACA,IAAI,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;AAClD;IACA,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE;IAErB,QAAQ,KAAK,GAAG,CAAC,CAAC;AAClB;IACA,QAAQ,IAAI,UAAU,GAAG,EAAE;IAC3B,aAAa,UAAU,EAAE;IACzB,aAAa,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,CAAC;IACnD,aAAa,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;IACxC,gBAAgB,IAAI,CAAC,GAAG,EAAE,CAAC,eAAe,CAAC,IAAI,EAAE;IACjD,oBAAoB,KAAK,CAAC,CAAC;IAC3B,oBAAoB,KAAK,CAAC,CAAC;IAC3B,oBAAoB,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,EACvB,CAAC,CAAC;IACnB,gBAAgB,OAAO,UAAU,CAAC,EAAE;IACpC,oBAAoB,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjC,iBAAiB,CAAC;IAClB,aAAa,CAAC,CAAC;AACf;IACA,QAAQ,UAAU;IAClB,aAAa,SAAS,CAAC,MAAM,CAAC;IAC9B,aAAa,MAAM,CAAC,UAAU,CAAC,EAAE;IACjC,gBAAgB,OAAO,CAAC,CAAC,MAAM,KAAK,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,QAAQ,CAAC;IAC7E,aAAa,CAAC;IACd,aAAa,KAAK,CAAC,cAAc,EAAE,UAAU,CAAC,EAAE;IAChD,gBAAgB,OAAO,CAAC,CAAC,MAAM,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;IAClD,aAAa,CAAC;IACd,aAAa,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;IACtC,gBAAgB,IAAI,CAAC,CAAC,MAAM,KAAK,KAAK,IAAE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,QAAQ,GAAC;IACtE,aAAa,CAAC;IACd,aAAa,EAAE,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;IACpC,gBAAgB,IAAI,CAAC,CAAC,MAAM,KAAK,KAAK,IAAE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,GAAC;IACpE,aAAa,CAAC,CAAC;IACf,KAAK;AACL;IACA,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE;IACvB,QAAQ,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,QAAQ,IAAI,GAAG,CAAC,CAAC;IACjB,QAAQ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;IAC5C,YAAY;IACZ,gBAAgB,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG;IAC9E,cAAc;IACd,SAAS,CAAC,CAAC;IACX,QAAQ,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,EAAE;IACtC,YAAY,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC3B,SAAS,CAAC,CAAC;IACX,KAAK;IACL,CAAC,CAAC;;;;;;"}